<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - English Learning Platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Toggle checkbox styling */
    .toggle-checkbox:checked {
      background-color: #10b981;
    }
    .toggle-checkbox {
      appearance: none;
      width: 44px;
      height: 24px;
      background-color: #cbd5e0;
      border-radius: 12px;
      position: relative;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .toggle-checkbox:checked::before {
      content: '';
      position: absolute;
      top: 2px;
      left: 22px;
      width: 20px;
      height: 20px;
      background-color: white;
      border-radius: 50%;
      transition: transform 0.3s;
    }
    .toggle-checkbox:not(:checked)::before {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 20px;
      height: 20px;
      background-color: white;
      border-radius: 50%;
      transition: transform 0.3s;
    }

    /* Dark theme styles */
    .dark {
      background-color: #1a202c;
      color: #e2e8f0;
    }

    .dark .bg-white {
      background-color: #2d3748;
      color: #e2e8f0;
    }

    .dark .bg-gray-50 {
      background-color: #2d3748;
      color: #e2e8f0;
    }

    .dark .bg-gray-100 {
      background-color: #4a5568;
    }

    .dark .text-gray-900 {
      color: #e2e8f0;
    }

    .dark .text-gray-800 {
      color: #e2e8f0;
    }

    .dark .text-gray-700 {
      color: #cbd5e0;
    }

    .dark .text-gray-600 {
      color: #a0aec0;
    }

    .dark .text-gray-500 {
      color: #718096;
    }

    .dark .border-gray-300 {
      border-color: #4a5568;
    }

    .dark .border-gray-200 {
      border-color: #4a5568;
    }

    .dark .border-gray-100 {
      border-color: #4a5568;
    }

    .dark .hover\:bg-gray-100:hover {
      background-color: #4a5568;
    }

    .dark .hover\:bg-gray-50:hover {
      background-color: #4a5568;
    }

    .dark .shadow-lg {
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.5);
    }

    .dark .shadow-md {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.5);
    }

    /* Dark theme gradient backgrounds */
    .dark .bg-gradient-to-br {
      background: linear-gradient(to bottom right, #2d3748, #1a202c);
    }

    .dark .bg-gradient-to-r {
      background: linear-gradient(to right, #4a5568, #2d3748);
    }

    /* Smooth transitions for theme switching */
    * {
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-white to-purple-50 min-h-screen transition-all duration-300" id="theme-body">
  <div class="container mx-auto px-4 py-8 max-w-4xl">

    <!-- Header -->
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6 transition-all duration-300">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl flex items-center justify-center transition-all duration-300">
            <i class="fas fa-cog text-white text-xl"></i>
          </div>
          <div>
            <h1 class="text-3xl font-bold text-gray-900 transition-colors duration-300">Settings</h1>
            <p class="text-gray-600 transition-colors duration-300">Customize your learning experience</p>
          </div>
        </div>
        <a href="/dashboard" class="px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg font-medium">
          <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
        </a>
      </div>
    </div>

    <!-- Settings Content -->
    <div class="space-y-6">

      <!-- Notification Settings -->
      <div class="bg-white rounded-2xl shadow-lg p-6 transition-all duration-300">
        <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 transition-colors duration-300">
          <i class="fas fa-bell text-blue-500"></i>
          Notifications
        </h2>
        <div class="space-y-4">
          <label class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-envelope text-blue-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Email Notifications</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Get updates about your progress</div>
              </div>
            </div>
            <input type="checkbox" class="toggle-checkbox" checked>
          </label>

          <label class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-mobile-alt text-green-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Push Notifications</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Daily reminders and achievements</div>
              </div>
            </div>
            <input type="checkbox" class="toggle-checkbox">
          </label>

          <label class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-calendar text-purple-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Study Reminders</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Get reminded to practice daily</div>
              </div>
            </div>
            <input type="checkbox" class="toggle-checkbox" checked>
          </label>
        </div>
      </div>

      <!-- Learning Preferences -->
      <div class="bg-white rounded-2xl shadow-lg p-6 transition-all duration-300">
        <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 transition-colors duration-300">
          <i class="fas fa-graduation-cap text-green-500"></i>
          Learning Preferences
        </h2>
        <div class="space-y-4">
          <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-clock text-orange-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Daily Goal</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Minutes per day</div>
              </div>
            </div>
            <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300">
              <option value="15">15 minutes</option>
              <option value="30" selected>30 minutes</option>
              <option value="45">45 minutes</option>
              <option value="60">1 hour</option>
            </select>
          </div>

          <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-volume-up text-blue-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Audio Quality</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Preferred audio quality</div>
              </div>
            </div>
            <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300">
              <option value="low">Standard</option>
              <option value="high" selected>High Quality</option>
            </select>
          </div>

          <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-palette text-purple-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Theme</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Visual theme preference</div>
              </div>
            </div>
            <select id="theme-select" class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300">
              <option value="light" selected>Light</option>
              <option value="dark">Dark</option>
              <option value="auto">Auto</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Privacy Settings -->
      <div class="bg-white rounded-2xl shadow-lg p-6 transition-all duration-300">
        <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 transition-colors duration-300">
          <i class="fas fa-shield-alt text-red-500"></i>
          Privacy
        </h2>
        <div class="space-y-4">
          <label class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-eye text-gray-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Profile Visibility</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Make profile visible to other users</div>
              </div>
            </div>
            <input type="checkbox" class="toggle-checkbox" checked>
          </label>

          <label class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-chart-bar text-green-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Progress Sharing</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Share achievements on leaderboard</div>
              </div>
            </div>
            <input type="checkbox" class="toggle-checkbox">
          </label>

          <label class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <div class="flex items-center gap-3">
              <i class="fas fa-database text-blue-500"></i>
              <div>
                <div class="font-medium text-gray-800 transition-colors duration-300">Data Analytics</div>
                <div class="text-sm text-gray-600 transition-colors duration-300">Help improve our service</div>
              </div>
            </div>
            <input type="checkbox" class="toggle-checkbox" checked>
          </label>
        </div>
      </div>

      <!-- Account Actions -->
      <div class="bg-white rounded-2xl shadow-lg p-6 transition-all duration-300">
        <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 transition-colors duration-300">
          <i class="fas fa-user-cog text-gray-500"></i>
          Account Actions
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <button class="px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 font-medium flex items-center justify-center gap-2">
            <i class="fas fa-question-circle"></i>
            Help & Support
          </button>

          <button class="px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all duration-300 font-medium flex items-center justify-center gap-2">
            <i class="fas fa-sign-out-alt"></i>
            Log Out
          </button>
        </div>
      </div>

    </div>

  </div>

  <script>
    // Theme management
    class ThemeManager {
      constructor() {
        this.theme = localStorage.getItem('theme') || 'light';
        this.init();
      }

      init() {
        this.applyTheme(this.theme);
        this.setupEventListeners();
      }

      applyTheme(theme) {
        const body = document.getElementById('theme-body');
        const themeSelect = document.getElementById('theme-select');

        if (theme === 'auto') {
          // Auto theme based on system preference
          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          theme = prefersDark ? 'dark' : 'light';
        }

        if (theme === 'dark') {
          body.classList.add('dark');
        } else {
          body.classList.remove('dark');
        }

        // Update select dropdown
        if (themeSelect) {
          themeSelect.value = this.theme;
        }

        this.theme = theme;
        localStorage.setItem('theme', theme);
      }

      setupEventListeners() {
        // Listen for theme selection changes
        const themeSelect = document.getElementById('theme-select');
        if (themeSelect) {
          themeSelect.addEventListener('change', (e) => {
            this.applyTheme(e.target.value);
          });
        }

        // Listen for system theme changes (for auto mode)
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
          if (this.theme === 'auto') {
            this.applyTheme('auto');
          }
        });
      }
    }

    // Initialize theme manager when page loads
    document.addEventListener('DOMContentLoaded', function() {
      const themeManager = new ThemeManager();

      // Settings functionality
      document.querySelectorAll('.toggle-checkbox').forEach(toggle => {
        toggle.addEventListener('change', function() {
          // Here you would save the setting to backend
          console.log('Setting changed:', this.checked);

          // Show visual feedback
          const label = this.closest('label');
          if (this.checked) {
            label.classList.add('bg-green-50', 'border-green-200');
            label.classList.remove('bg-gray-50', 'border-gray-200');
          } else {
            label.classList.add('bg-gray-50', 'border-gray-200');
            label.classList.remove('bg-green-50', 'border-green-200');
          }
        });
      });

      document.querySelectorAll('select').forEach(select => {
        select.addEventListener('change', function() {
          // Here you would save the setting to backend
          console.log('Setting changed:', this.value);

          // Special handling for theme changes (already handled by ThemeManager)
          if (this.id === 'theme-select') {
            return; // ThemeManager handles this
          }

          // Show visual feedback for other selects
          this.classList.add('ring-2', 'ring-green-500');
          setTimeout(() => {
            this.classList.remove('ring-2', 'ring-green-500');
          }, 1000);
        });
      });

      // Account action buttons
      document.querySelectorAll('button').forEach(button => {
        button.addEventListener('click', function() {
          const buttonText = this.textContent.trim();

          if (buttonText.includes('Edit Profile')) {
            // Redirect to profile edit page
            window.location.href = '/dashboard/profile/edit';
          } else if (buttonText.includes('Export Data')) {
            // Trigger data export
            exportUserData();
          } else if (buttonText.includes('Help & Support')) {
            // Show help modal or redirect
            showHelpModal();
          } else if (buttonText.includes('Log Out')) {
            // Sign out user and redirect to login page
            if (confirm('Are you sure you want to log out?')) {
              window.location.href = '/';
            }
          }
        });
      });

      function exportUserData() {
        // Placeholder for data export functionality
        alert('Data export feature will be available soon!');
      }

      function showHelpModal() {
        // Placeholder for help modal
        alert('Help & Support feature will be available soon!');
      }
    });
  </script>
</body>
</html>
